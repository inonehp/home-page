<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<title>Music</title>
<link rel="alternate" type="application/rss+xml" title="gabc RSS" href="rss.xml">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--<meta name="title" content="">-->
<meta name="description" content="">
<!--<meta name="keywords" content="">-->
<meta name="color-scheme" content="light dark">

<!--<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">-->
<meta name="generator" content="">

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<script>function reload() {  location.reload(true); } </script>

<meta name="theme-color" media="(prefers-color-scheme: light)" content="#EDEBE6">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#3E3E3E">

<link rel="icon" sizes="512x512" href="/img/logo.png" type="image/png">


<link rel="stylesheet" type="text/css" href="/css/light.css" id="theme">
<script src="/js/main.js"></script>
<script src="/js/ad.js"></script>
<link rel="stylesheet" type="text/css" href="/css/style.css">


</head>
<body>



<div class="wrapper brand topNav capitalize">
<header>
<nav>

<a href="../"><img class="logo2" src="/img/logo.png" alt="gabc"></a>
<a class="brand" href="projects.html">projects</a><a class="active" href="music.html">music</a>
<button onclick="dropdownFunction();" class="dropbtn" id="dropbtn">☰ other</button>

<div id="myDropdown" class="dropdown-content shadow bg3">
<a class="brand" href="tpl.html">TPL</a><a class="brand" href="firefox-theme.html">firefox-theme</a><a class="brand" href="geany-color.html">geany-color</a><a class="brand" href="vscode-theme.html">vscode-theme</a><a class="brand" href="wallpaper.html">wallpaper</a><a class="brand" href="search.html">search</a><a class="brand" href="blog.html">blog</a><a class="brand" href="twitter.html">twitter</a><a class="brand" href="about.html">about</a></div>

<!--<hr />-->
 </nav>
 </header>

</div>

<!--<noscript>
<style>
.dropdown-content, .dropdown { display: block; position: relative; }
</style>
</noscript>-->

<script>
// other click
function dropdownFunction() {
  var x = document.getElementById("myDropdown");
 // alert(x.style.display);
  if (x.style.display === "none"||x.style.display === "") {
document.getElementById("dropbtn").innerHTML = '☶ other'; 
x.style.display = "block";
  } else {
x.style.display = "none";
document.getElementById("dropbtn").innerHTML = '☰ other'; 
  }

// out area
var getclick = document.getElementById('dropbtn');
document.addEventListener('click', function(event) {
if (!getclick.contains(event.target)) {
//alert('out');
var x = document.getElementById("myDropdown");
x.style.display = "none";
document.getElementById("dropbtn").innerHTML = '☰ other'; 
    }
});

}
</script>


<!-- content -->
<div class="content">

<style>
.tv{ font-size: 120%; font-weight: bold; }
.tv a { font-size: 110%; }
.tv .ico { width: 25px; }
.tv iframe {
    height: 60vh;
    width: 100vw;
}
</style>

<h3 class="textAlignCenter op">Music</h3>

<div class="center2">



<div class="post2 brand light border3List">

<div id="playTitle"></div>
<div id="playURL"></div>
<div id="playerxx"></div>

<div class="footerPost"><a class="button block light border3List" style="text-align:center; cursor: pointer;" onClick="window.location.reload()" title="location.reload" href="#">random</a></div>

</div>

</div>


<script>
var json = [
    {
        "text": "Aretha Franklin - Respect (Official Lyric Video) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=A134hShx_gw"
    },
    {
        "text": "Big Time Sensuality \u00b7 Bj\u00f6rk",
        "url": "https:\/\/www.youtube.com\/watch?v=K7Z_UiB35Hs"
    },
    {
        "text": "Bj\u00f6rk - Venus As A Boy - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=J1Rd7zrvW7k"
    },
    {
        "text": "bj\u00f6rk : human behaviour (HD) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=p0mRIhK9seg"
    },
    {
        "text": "Daft Punk - Get Lucky (Official Audio) ft. Pharrell Williams, Nile Rodgers - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=5NV6Rdv1a3I"
    },
    {
        "text": "Garbage - Cherry Lips - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=Cy1LdAaGASw"
    },
    {
        "text": "Gwen Stefani - Last Christmas (Live From The Orange Grove) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=G5vUx2-XiK4"
    },
    {
        "text": "It's Oh So Quiet \u00b7 Bj\u00f6rk",
        "url": "https:\/\/www.youtube.com\/watch?v=XxohzqH_Q78"
    },
    {
        "text": "Jain - Alright (Official Video) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=MARsW26KXQg"
    },
    {
        "text": "Jingle Bells \u00b7 Gwen Stefani",
        "url": "https:\/\/www.youtube.com\/watch?v=5JGfvDqZEgM"
    },
    {
        "text": "Lilly Wood & The Prick and Robin Schulz - Prayer In C (Robin Schulz Remix) (Official) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=fiore9Z5iUg"
    },
    {
        "text": "Lou Reed - Walk on the Wild Side (audio) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=oG6fayQBm9w"
    },
    {
        "text": "Madcon - Beggin - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=zrFI2gJSuwA"
    },
    {
        "text": "Michael Jackson - Thriller (Official Video - Shortened Version) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=4V90AmXnguw"
    },
    {
        "text": "Nelly Furtado - Turn Off The Light (Official Music Video) - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=kOL7aeIDruA"
    },
    {
        "text": "Rihanna - Don't Stop The Music - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=yd8jh9QYfEs"
    },
    {
        "text": "Robyn - Cobrastyle - YouTube",
        "url": "https:\/\/www.youtube.com\/watch?v=1zVECruSI3k"
    }
];

function getRandomInt(max) {
  return Math.floor(Math.random() * max);
}




//alert(json[getRandomInt(json.length)]);
//alert(json.length);

var id = getRandomInt(json.length);

var randomTitle = json[id]['text'];
var randomURL = json[id]['url'];

var tmp = document.createElement ('a');
tmp.href   = randomURL;
var host = tmp.hostname;

document.getElementById("playTitle").innerHTML =  randomTitle; 

document.getElementById("playURL").innerHTML =  '<a target="blank" href="'+randomURL+'">'+randomURL+' ⇗</a>'; 
 


var w = '100%';
var h = '275px';


switch (host) {

case "youtu.be":
case "m.youtube.com":
case "www.youtube.com":
case "music.youtube.com":
  
//alert(randomURL);
var play = randomURL.split('v=').pop();



//alert(play);
    //<!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
     document.getElementById("playerxx").innerHTML = '<div id="player"></div>'; 

      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: h,
          width: w,
          videoId: play,
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange,
            'onStateChange': onPlayerStateChange2
          }
        });
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        event.target.playVideo();
//event.target.mute();
//event.target.setVolume(100); 
      }

      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      var done = false;
      function onPlayerStateChange(event) {
 if (event.data == YT.PlayerState.PLAYING && !done) {
          setTimeout(stopVideo, 6000);
          done = true;
}
       
}
function stopVideo() {
        player.stopVideo();
      }


function onPlayerStateChange2(event) {
		  if(event.data === 0) {            
// Simulate an HTTP redirect:
location.reload();  
}
}



break;
   

case 'vimeo.com':

function injectScript(src) {
    return new Promise((resolve, reject) => {
        const script = document.createElement('script');
        script.src = src;
        script.addEventListener('load', resolve);
        script.addEventListener('error', e => reject(e.error));
        document.head.appendChild(script);
    });
}

injectScript('https://player.vimeo.com/api/player.js')
    .then(() => {
        console.log('Script loaded!');
        
        
        
        
        
        
var play = randomURL.split('/').pop();
document.getElementById("playerxx").innerHTML = '<div id="myVideo" data-vimeo-id="'+play+'" data-vimeo-autoplay="true"></div>'; 

var options = {
    url: "https://vimeo.com/"+play,
   // width:400
   height:h
  };

  var videoPlayer = new Vimeo.Player('myVideo', options);

videoPlayer.on('play', function() {
    console.log('Played the video');
  });
  
videoPlayer.on('ended', function(data) {
location.reload(); 
location.reload(); 
});
        
        
        
        
        
    }).catch(error => {
        console.error(error);
    });
    
    
    
    



    break;

    
case "soundcloud.com":

function injectScript(src) {
    return new Promise((resolve, reject) => {
        const script = document.createElement('script');
        script.src = src;
        script.addEventListener('load', resolve);
        script.addEventListener('error', e => reject(e.error));
        document.head.appendChild(script);
    });
}

injectScript('https://w.soundcloud.com/player/api.js')
    .then(() => {
        console.log('Script loaded!');
        

  document.getElementById("playerxx").innerHTML = '<iframe  id="sc-widget" width="'+w+'" height="'+h+'" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url='+randomURL+'&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe>'; 


  (function(){
    var widgetIframe = document.getElementById('sc-widget'),
        widget       = SC.Widget(widgetIframe);

    widget.bind(SC.Widget.Events.READY, function() {
      // load new widget
      widget.bind(SC.Widget.Events.FINISH, function() {
// Simulate an HTTP redirect:

location.reload(); 
location.reload(); 
      });
    });

  }());

 }).catch(error => {
 console.error(error);
    });

 break;
    
default:
console.log(`default switch`);
}












</script>












</div>

<footer>

<div id="ads2"></div>
<script> fuAds('', 'ads2', ''); </script>

<div class="wrapper2 padding">

<!--<span><a  class="button" href="../">&#x2190;</a></span>
-->

<span><a href="/">index</a></span>
<span id="fTheme"><a href="/theme.html">Themes</a></span>
<script>
document.getElementById("fTheme").innerHTML = '<span>theme: <a href="/theme.html">'+theme+' ('+confRealTmpTheme+')</a></span>';
</script>

<span>hosting: <a href="https://pages.github.com/">pages.github.com</a></span>
<span id="fPrivacy"><a href="/privacy.html">cookie status: *</a></span>
<script>
document.getElementById("fPrivacy").innerHTML = '<a href="/privacy.html">cookie: '+confDataCollection+'</a></a>';
</script>

<span><a href="/about.html">Gabc 2022</a></span>


</div>
</footer>
<!--<script src="/js/main2.js"></script>-->

</body>
</html>